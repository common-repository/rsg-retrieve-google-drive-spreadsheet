// PLUGIN SCRIPT
!function(t){if(1==t(".rynerg_rsggds").length){console.log("Active Page: Retrieve Google Drive Spreadsheet");var e=t(".rsggds_my_contents"),s=0,l=t("#rsggds_save");e.find("input").keypress(function(t){"13"==(t.keyCode?t.keyCode:t.which)&&l.click(),t.stopPropagation()}),l.click(function(){var l,o,n,r,g,i,a;s=0,e.find("input").each(function(){""==t(this).val()&&s++}),s>0?t(".rsggds_table_cotain").html('<div style="text-align:center; font-size:20px;"> <strong>No Table Found</strong></div>'):(link=t("#rsggds_sheet-link").val(),ttl=t("#rsggds_sheet-title").val(),cols=t("#rsggds_sheet-cols").val(),row=t("#rsggds_sheet-row").val(),tbl_h=t("#rsggds_sheet-height").val(),tbl_w=t("#rsggds_sheet-width").val(),tbl_color=t("#rsggds_sheet-color").val(),t(".rsggds_table_cotain").html('<div style="text-align:center; font-size:20px;"> <strong>Retrieving Table. . .</strong></div>'),l=link,o=ttl,n=cols,r=row,g=tbl_h,i=tbl_w,a=tbl_color,jQuery.ajax({type:"post",dataType:"json",url:myAjax.ajaxurl,data:{action:"rsggds_do_action",link:l,ttl:o,cols:n,row:r,tbl_h:g,tbl_w:i,tbl_color:a},success:function(e){"error_talaga"==e.tbl?t(".rsggds_table_cotain").html('<div style="text-align:center; font-size:20px;"> <strong>No Table Found</strong></div>'):location.reload()},error:function(){t(".rsggds_table_cotain").html('<div style="text-align:center; font-size:20px;"> <strong>No Table Found</strong></div>')}}))})}}(jQuery);


// MAIN PAGE SCRIPT
jQuery("body").hasClass("toplevel_page_rsg_addons_page") && jQuery("body.toplevel_page_rsg_addons_page").ready(function() {
    console.log("RSG MAIN PAGE ACTIVE");
    rsggds = 		'<div class="RSGGDS">';
	rsggds = rsggds+	'<a href="admin.php?page=rsggds" class="rsg_plugin_links" data="RSGGDS">';
	rsggds = rsggds+		'<strong>RSG Retrieve Google Drive Spreadsheet</strong>';
	rsggds = rsggds+	'</a>';
	rsggds = rsggds+	'<div style="padding:5px 20px;">';
	rsggds = rsggds+		'Retrieve contents from google drive spreadsheet and display it as a table.<br>';
    rsggds = rsggds+        'Display of tables uses the <a href="https://mottie.github.io/tablesorter/docs/"><strong>tablesorter script library</strong></a>.';
    rsggds = rsggds+        'You can check their jQuery plugin awesomeness <a href="https://github.com/Mottie/tablesorter"><strong>at github</strong></a>.';
	rsggds = rsggds+	'</div>';
	rsggds = rsggds+'</div>';

    if( jQuery('.rsg-main-body-content').length == 1 ){
    	jQuery('.rsg-main-body-content').append(rsggds);
    }else{
    	rsg = 		'<div style="padding: 20px;">';
    	rsg = rsg+		'<h1 style="text-align:center; font-size:30px; color:#fff;" >COMPILATION OF ADDONS</h1><br>';
    	rsg = rsg+		'Active Addons / Plugins';
    	rsg = rsg+		'<div style="padding:10px 20px;" class="rsg-main-body-content">';
    	rsg = rsg+			rsggds;
    	rsg = rsg+		'</div>';
    	rsg = rsg+	'</div>';
    	jQuery('#wpbody-content').prepend(rsg);
    }
});